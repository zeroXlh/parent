<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="base :: common_header(~{::title}, ~{}, ~{::.depend})">
<title>用户管理</title>
<script class="depend" type="text/javascript" th:src="@{~/assets/js/common/md5-min.js}"></script>
</head>
<body>
	<div class="main-container" >
		<form class="form-inline" id="query_form" style="padding:10px 10px 20px 10px;"  >
			<table class="query_table" style="margin:0 auto;">
			 	<tr>
			 		<td>用户名:</td>
					<td><input name="userName" type="text" class="form-control" /></td>
			 		<td>真实姓名:</td>
					<td><input name="realname" type="text" class="form-control" /></td>
					<td>部门:</td>
					<td>
						<select id="departmentQuery" class="form-control" style="width:170px;" 
							name="department"></select>
					</td>
					<td>所属公司:</td>
					<td><select name="company" class="form-control" id="company_q"></select>
					</td>
					<td>状态:</td>
					<td><select name="status" class="form-control">
							<option value="">---请选择---</option>
							<option value="EN" selected="selected">正常</option>
							<option value="DISA">注销</option>
						</select>
					</td>
					<td><button type="button" class="btn btn-primary" style="margin-left:10px;" 
							onClick="search('#list')">查询</button></td>
					<td><button type="button" class="btn btn-primary" style="margin-left:10px;"
					 	onClick="openDialog()" auth_permission="USER:ADD_USER">创建</button></td>
				</tr>
			 </table>
		</form>		
		
		<div class="table-responsive " style="margin-top:5px;" >
			<table class="table table-striped table-bordered table-hover" id="list"></table>
		</div>
		
		<!-- 确认客户认购金额dialog -->
		<div class="modal fade" id="modal" tabindex="-1" role="dialog" data-backdrop="false" aria-labelledby="modalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true"> &times; </button>
						<h4 class="modal-title" id="modalLabel"></h4>
					 </div>
	
					<form class="form-horizontal" role="form" id="user_form" style="padding-left: 15px;">
						<div class="form-group">
			                <label class="col-sm-4 control-label" for="userName">用户名：</label>
			                <div class="col-sm-7">
			                	<input name="id" type="hidden" />
			                    <input class="form-control" id="userName" name="userName" type="text" placeholder=""/>
			                </div>
			            </div>
						<div class="form-group">
			                <label class="col-sm-4 control-label" for="realname">真实姓名：</label>
			                <div class="col-sm-7">
			                    <input class="form-control" id="realname" name="realname" type="text" placeholder=""/>
			                </div>
			            </div>
						<div class="form-group">
			                <label class="col-sm-4 control-label" for="userType">用户类型：</label>
			                <div class="col-sm-7">
			                	<select class="form-control" id="userType" name="userType">
			                		<option value="0">普通用户</option>
			                		<option value="1">管理员用户</option>
			                	</select>
			                </div>
			            </div>
						<div class="form-group" id="passwordDiv">
			                <label class="col-sm-4 control-label" for="password">密码：</label>
			                <div class="col-sm-7">
			                	<input class="form-control" id="password" name="password" type="password" />
			                </div>
			            </div>
						<div class="form-group" id="rePasswordDiv">
			                <label class="col-sm-4 control-label" for="rePassword">确认密码：</label>
			                <div class="col-sm-7">
			                	<input class="form-control" id="rePassword" name="rePassword" type="password" />
			                </div>
			            </div>
						<div class="form-group">
			                <label class="col-sm-4 control-label" for="phoneNo">手机号：</label>
			                <div class="col-sm-7">
			                    <input class="form-control" id="phoneNo" name="phoneNo" type="text" placeholder=""/>
			                </div>
			            </div>
						<div class="form-group">
			                <label class="col-sm-4 control-label" for="company">所属公司：</label>
			                <div class="col-sm-7">
			                    <select class="form-control" id="company" name="company">
			                	</select>
			                </div>
			            </div>
						<div class="form-group">
			                <label class="col-sm-4 control-label" for="department">部门：</label>
			                <div class="col-sm-7">
			                    <select class="form-control" id="department" name="department">
			                	</select>
			                </div>
			            </div>
						<div class="form-group">
			                <label class="col-sm-4 control-label" for="status">状态：</label>
			                <div class="col-sm-7">
			                    <select class="form-control" id="status" name="status">
			                    	<option value="">---请选择---</option>
			                    	<option value="EN" selected="selected">正常</option>
			                    	<option value="DISA">注销</option>
			                	</select>
			                </div>
			            </div>
						<div class="modal-footer">
							<button type="button" class="btn btn-primary" onClick="saveUser()">
								<span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>保存
							</button>
							<button type="button" class="btn btn-default" data-dismiss="modal">
								<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>关闭
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
		
	</div>
</body>
<script th:src="@{~/js/user/user.js}" type="text/javascript"></script>
</html>