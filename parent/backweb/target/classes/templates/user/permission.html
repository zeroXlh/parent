<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="base :: common_header(~{::title}, ~{}, ~{})">
<title>权限管理</title>
</head>
<body>
	<div class="main-container" >
		<form class="form-inline" id="query_form">
			<table class="query_table" style="margin:10px auto;">
			 	<tr>
			 		<td>权限编号:</td>
					<td><input name="permissionCode" type="text" class="form-control" /></td>
					<td>权限名称:</td>
					<td><input name="permissionName" type="text" class="form-control" /></td>
					<td>权限类型:</td>
					<td><select name="permissionType" class="form-control">
							<option value="">---请选择---</option>
							<option value="M">菜单权限</option>
	                		<option value="R">操作权限</option>
						</select>
					</td>
					<td>父级权限:</td>
					<td><input name="parentPermission" type="text" class="form-control" /></td>
					<td><button type="button" class="btn btn-primary" style="margin-left:10px;"
							 onClick="search('#permission_tb')">查询</button></td>
					<td><button type="button" class="btn btn-primary" style="margin-left:10px;"
					 	onClick="openDialog()" auth_permission="USER:ADD_PERMIMISSION">创建</button></td>
				</tr>
			 </table>
		</form>		
		
		<div class="table-responsive " style="margin-top:5px;" >
			<table class="table table-striped table-bordered table-hover" id="permission_tb"></table>
		</div>
		
		<!-- 新增、更新角色dialog -->
		<div class="modal fade" id="modal" tabindex="-1" role="dialog" data-backdrop="false" aria-labelledby="modalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true"> &times; </button>
						<h4 class="modal-title" id="modalLabel"></h4>
					 </div>
	
					<form class="form-horizontal" role="form" id="permission_form" style="padding-left: 15px;">
						<div class="form-group">
			                <label class="col-sm-4 control-label" for="permissionCode">权限编号：</label>
			                <div class="col-sm-7">
			                    <input class="form-control" id="permissionCode" name="permissionCode" type="text" placeholder=""/>
			                </div>
			            </div>
						<div class="form-group">
			                <label class="col-sm-4 control-label" for="permissionName">权限名称：</label>
			                <div class="col-sm-7">
			                    <input class="form-control" id="permissionName" name="permissionName" type="text" placeholder=""/>
			                </div>
			            </div>
						<div class="form-group">
			                <label class="col-sm-4 control-label" for="permissionType">权限类型：</label>
			                <div class="col-sm-7">
			                	<select class="form-control" id="permissionType" name="permissionType">
			                		<option value="">---请选择---</option>
			                		<option value="M">菜单权限</option>
			                		<option value="R">操作权限</option>
			                	</select>
			                </div>
			            </div>
			            <div class="form-group" id="parent_div">
			                <label class="col-sm-4 control-label" for="parentPermission">父级权限：</label>
			                <div class="col-sm-7">
			                    <input class="form-control" id="parentPermission" name="parentPermission" type="text" placeholder=""/>
			                </div>
			            </div>
			            <div class="form-group">
			                <label class="col-sm-4 control-label" for="permissionUrl">权限标识：</label>
			                <div class="col-sm-7">
			                    <input class="form-control" id="permissionUrl" name="permissionUrl" type="text" placeholder=""/>
			                </div>
			            </div>
						<div class="modal-footer">
							<button type="button" class="btn btn-primary" onClick="savePermission()">
								<span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>保存
							</button>
							<button type="button" class="btn btn-default" data-dismiss="modal">
								<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>关闭
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
		
	</div>
</body>
<script th:src="@{~/js/user/permission.js}" type="text/javascript"></script>
</html>